{"ast":null,"code":"import _classCallCheck from \"/Users/drashti/Documents/battleship-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/drashti/Documents/battleship-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/drashti/Documents/battleship-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/drashti/Documents/battleship-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/drashti/Documents/battleship-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/drashti/Documents/battleship-project/src/react/components/playGame/SurrenderButton.js\";\nimport React from \"react\";\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\nimport { connect } from \"../../HOCs\";\nimport { getOldMessages, deleteMessage } from \"../../../redux/actionCreators\";\n\nvar SurrenderButton =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SurrenderButton, _React$Component);\n\n  function SurrenderButton() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SurrenderButton);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SurrenderButton)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.onConfirm = function () {\n      var goHome = window.confirm(\"Click OK to be redirected to the home page.\");\n\n      if (goHome) {\n        _this.deleteOldMessages();\n      }\n    };\n\n    _this.deleteOldMessages = function () {\n      _this.props.getOldMessages(_this.props.playerName).then(function (result) {\n        result.payload.messages.map(function (message) {\n          return _this.props.deleteMessage(message.id, _this.props.token);\n        });\n      }).then(window.location.href = \"/\");\n    };\n\n    _this.confirmAlert = function () {\n      if (window.confirm(\"Do You Really Want To Surrender?\")) {\n        _this.onConfirm();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(SurrenderButton, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"button\", {\n        onClick: this.confirmAlert,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, \"I Give Up!\");\n    }\n  }]);\n\n  return SurrenderButton;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    playerName: state.auth.login.result.username,\n    token: state.auth.login.result.token\n  };\n};\n\nvar mapDispatchToProps = {\n  deleteMessage: deleteMessage,\n  getOldMessages: getOldMessages\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(SurrenderButton);","map":{"version":3,"sources":["/Users/drashti/Documents/battleship-project/src/react/components/playGame/SurrenderButton.js"],"names":["React","connect","getOldMessages","deleteMessage","SurrenderButton","onConfirm","goHome","window","confirm","deleteOldMessages","props","playerName","then","result","payload","messages","map","message","id","token","location","href","confirmAlert","Component","mapStateToProps","state","auth","login","username","mapDispatchToProps"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,iDAAP;AACA,SAASC,OAAT,QAAwB,YAAxB;AACA,SAASC,cAAT,EAAyBC,aAAzB,QAA8C,+BAA9C;;IAEMC,e;;;;;;;;;;;;;;;;;;UACJC,S,GAAY,YAAM;AAChB,UAAIC,MAAM,GAAGC,MAAM,CAACC,OAAP,CAAe,6CAAf,CAAb;;AACA,UAAIF,MAAJ,EAAY;AACV,cAAKG,iBAAL;AACD;AACF,K;;UAEDA,iB,GAAoB,YAAM;AACxB,YAAKC,KAAL,CACGR,cADH,CACkB,MAAKQ,KAAL,CAAWC,UAD7B,EAEGC,IAFH,CAEQ,UAAAC,MAAM,EAAI;AACdA,QAAAA,MAAM,CAACC,OAAP,CAAeC,QAAf,CAAwBC,GAAxB,CAA4B,UAAAC,OAAO;AAAA,iBACjC,MAAKP,KAAL,CAAWP,aAAX,CAAyBc,OAAO,CAACC,EAAjC,EAAqC,MAAKR,KAAL,CAAWS,KAAhD,CADiC;AAAA,SAAnC;AAGD,OANH,EAOGP,IAPH,CAOSL,MAAM,CAACa,QAAP,CAAgBC,IAAhB,GAAuB,GAPhC;AAQD,K;;UAEDC,Y,GAAe,YAAM;AACnB,UAAIf,MAAM,CAACC,OAAP,CAAe,kCAAf,CAAJ,EAAwD;AACtD,cAAKH,SAAL;AACD;AACF,K;;;;;;;6BAEQ;AACP,aAAO;AAAQ,QAAA,OAAO,EAAE,KAAKiB,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAP;AACD;;;;EA3B2BtB,KAAK,CAACuB,S;;AA6BpC,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK,EAAI;AAC/B,SAAO;AACLd,IAAAA,UAAU,EAAEc,KAAK,CAACC,IAAN,CAAWC,KAAX,CAAiBd,MAAjB,CAAwBe,QAD/B;AAELT,IAAAA,KAAK,EAAEM,KAAK,CAACC,IAAN,CAAWC,KAAX,CAAiBd,MAAjB,CAAwBM;AAF1B,GAAP;AAID,CALD;;AAOA,IAAMU,kBAAkB,GAAG;AACzB1B,EAAAA,aAAa,EAAbA,aADyB;AAEzBD,EAAAA,cAAc,EAAdA;AAFyB,CAA3B;AAKA,eAAeD,OAAO,CAACuB,eAAD,EAAkBK,kBAAlB,CAAP,CAA6CzB,eAA7C,CAAf","sourcesContent":["import React from \"react\";\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\nimport { connect } from \"../../HOCs\";\nimport { getOldMessages, deleteMessage } from \"../../../redux/actionCreators\";\n\nclass SurrenderButton extends React.Component {\n  onConfirm = () => {\n    var goHome = window.confirm(\"Click OK to be redirected to the home page.\");\n    if (goHome) {\n      this.deleteOldMessages();\n    }\n  };\n\n  deleteOldMessages = () => {\n    this.props\n      .getOldMessages(this.props.playerName)\n      .then(result => {\n        result.payload.messages.map(message =>\n          this.props.deleteMessage(message.id, this.props.token)\n        );\n      })\n      .then((window.location.href = \"/\"));\n  };\n\n  confirmAlert = () => {\n    if (window.confirm(\"Do You Really Want To Surrender?\")) {\n      this.onConfirm();\n    }\n  };\n\n  render() {\n    return <button onClick={this.confirmAlert}>I Give Up!</button>;\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    playerName: state.auth.login.result.username,\n    token: state.auth.login.result.token\n  };\n};\n\nconst mapDispatchToProps = {\n  deleteMessage,\n  getOldMessages\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SurrenderButton);\n"]},"metadata":{},"sourceType":"module"}